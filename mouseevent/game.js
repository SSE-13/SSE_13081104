var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var humanContainer = new render.DisplayObjectContainer();
var humanContainerB = new render.DisplayObjectContainer();
humanContainerB.addChild(humanContainer);
var head = new render.Bitmap();
head.x = 10;
head.y = 0;
head.source = "head.png";
humanContainer.addChild(head);
var tbody = new render.Bitmap();
tbody.x = 30;
tbody.y = 130;
tbody.source = "body.png";
humanContainer.addChild(tbody);
var Lhand = new render.Bitmap();
Lhand.x = 140;
Lhand.y = 140;
Lhand.source = "Lhand.png";
humanContainer.addChild(Lhand);
var Rhand = new render.Bitmap();
Rhand.x = -10;
Rhand.y = 140;
Rhand.source = "Rhand.png";
humanContainer.addChild(Rhand);
var Lleg = new render.Bitmap();
Lleg.x = 100;
Lleg.y = 210;
Lleg.source = "Lleg.png";
humanContainer.addChild(Lleg);
var Rleg = new render.Bitmap();
Rleg.x = 50;
Rleg.y = 210;
Rleg.source = "Rleg.png";
humanContainer.addChild(Rleg);
var renderCore = new render.RenderCore();
renderCore.start(humanContainerB, ["head.png", "body.png", "Rhand.png", "Lhand.png", "Rleg.png", "Lleg.png"]);
var HumanBody = (function (_super) {
    __extends(HumanBody, _super);
    function HumanBody() {
        _super.apply(this, arguments);
        this.vr = Math.PI / 7;
    }
    HumanBody.prototype.onTicker = function (duringTime) {
        // this.x = 
        // this.y = 
        // this.rotation =
        this.x += this.vx * duringTime;
        this.rotation += this.vr * duringTime;
    };
    return HumanBody;
}(Body));
humanContainer.x = 200;
humanContainer.y = 200;
var ticker = new Ticker();
var body = new HumanBody(humanContainer);
body.vx = 2;
body.vr = 1;
ticker.start([body]);
var eventCore = new events.EventCore();
eventCore.init();
var clickhead = 0;
var clickleg = 0;
var headHitTest = function (localPoint, displayObject) {
    alert("\u70B9\u51FB\u4F4D\u7F6E\u4E3A" + localPoint.x + "," + localPoint.y);
    var chead = false;
    if (localPoint.x > 0 && localPoint.x < 100 && localPoint.y > 0 && localPoint.y < 100) {
        chead = true;
        clickhead = 1;
    }
    return chead;
};
var legHitTest = function (localPoint, displayObject) {
    alert("\u70B9\u51FB\u4F4D\u7F6E\u4E3A" + localPoint.x + "," + localPoint.y);
    var cleg = false;
    if ((localPoint.x > 0 && localPoint.x < 50 && localPoint.y > 0 && localPoint.y < 60) || (localPoint.x > 50 && localPoint.x < 100 && localPoint.y > 0 && localPoint.y < 60)) {
        cleg = true;
        clickleg = 1;
    }
    return cleg;
};
var headOnClick = function () {
    //alert("clicked!!");
    //修改 HumanBody 的速度，使其反向移动
    if (headHitTest) {
        if (legHitTest) {
            body.vx = 2;
            body.vr = 1;
        }
        else {
            body.vx *= -1;
            body.vr *= -1;
        }
    }
    console.log(clickhead);
    console.log(clickleg);
};
var legOnClick = function () {
    //alert("clicked");
    if (legHitTest) {
        body.vx = 0;
        body.vr = 0;
        body.rotation = 0;
    }
    console.log(clickhead);
    console.log(clickleg);
};
eventCore.register(Lleg, legHitTest, legOnClick);
eventCore.register(head, headHitTest, headOnClick);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImdhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFLQSxJQUFJLGNBQWMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0FBQ3pELElBQUksZUFBZSxHQUFHLElBQUksTUFBTSxDQUFDLHNCQUFzQixFQUFFLENBQUM7QUFDMUQsZUFBZSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUN6QyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUMvQixJQUFJLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQztBQUNWLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO0FBQ1QsSUFBSSxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUM7QUFDekIsY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUU5QixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNoQyxLQUFLLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQztBQUNYLEtBQUssQ0FBQyxDQUFDLEdBQUMsR0FBRyxDQUFDO0FBQ1osS0FBSyxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUM7QUFDMUIsY0FBYyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUUvQixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNoQyxLQUFLLENBQUMsQ0FBQyxHQUFDLEdBQUcsQ0FBQztBQUNaLEtBQUssQ0FBQyxDQUFDLEdBQUMsR0FBRyxDQUFDO0FBQ1osS0FBSyxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUM7QUFDM0IsY0FBYyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUUvQixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNoQyxLQUFLLENB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