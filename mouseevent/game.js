var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var humanContainer = new render.DisplayObjectContainer();
var humanContainerB = new render.DisplayObjectContainer();
humanContainerB.addChild(humanContainer);
var head = new render.Bitmap();
head.x = 10;
head.y = 0;
head.source = "head.png";
humanContainer.addChild(head);
var tbody = new render.Bitmap();
tbody.x = 30;
tbody.y = 130;
tbody.source = "body.png";
humanContainer.addChild(tbody);
var Lhand = new render.Bitmap();
Lhand.x = 140;
Lhand.y = 140;
Lhand.source = "Lhand.png";
humanContainer.addChild(Lhand);
var Rhand = new render.Bitmap();
Rhand.x = -10;
Rhand.y = 140;
Rhand.source = "Rhand.png";
humanContainer.addChild(Rhand);
var Lleg = new render.Bitmap();
Lleg.x = 100;
Lleg.y = 210;
Lleg.source = "Lleg.png";
humanContainer.addChild(Lleg);
var Rleg = new render.Bitmap();
Rleg.x = 50;
Rleg.y = 210;
Rleg.source = "Rleg.png";
humanContainer.addChild(Rleg);
var renderCore = new render.RenderCore();
renderCore.start(humanContainerB, ["head.png", "body.png", "Rhand.png", "Lhand.png", "Rleg.png", "Lleg.png"]);
var HumanBody = (function (_super) {
    __extends(HumanBody, _super);
    function HumanBody() {
        _super.apply(this, arguments);
    }
    HumanBody.prototype.onTicker = function (duringTime) {
        // this.x = 
        // this.y = 
        // this.rotation =
        this.x += this.vx * duringTime;
        this.rotation += Math.PI / 7;
    };
    return HumanBody;
}(Body));
humanContainer.x = 100;
humanContainer.y = 100;
var ticker = new Ticker();
var body = new HumanBody(humanContainer);
//body.vx=2;
ticker.start([body]);
var eventCore = new events.EventCore();
eventCore.init();
var clickhead = 0;
var clickleg = 0;
var headHitTest = function (localPoint, displayObject) {
    alert("\u70B9\u51FB\u4F4D\u7F6E\u4E3A" + localPoint.x + "," + localPoint.y);
    if (localPoint.x > 0 && localPoint.x < 100 && localPoint.y > 0 && localPoint.y < 100) {
        clickhead++;
    }
    if (localPoint.x > 50 && localPoint.x < 100 && localPoint.y > 210 && localPoint.y < 270 || localPoint.x > 100 && localPoint.x < 150 && localPoint.y > 210 && localPoint.y < 270) {
        clickleg++;
    }
    return true;
};
var headOnClick = function () {
    alert("clicked!!");
    //修改 HumanBody 的速度，使其反向移动
    if (clickhead == 1) {
        body.vx *= -1;
    }
    if (clickleg == 1) {
        if (clickhead == 0) {
            clickhead = 1;
        }
        body.vx = 0;
    }
    if (clickleg >= 1 && clickhead >= 2) {
        body.vx = 2;
        body.rotation += Math.PI;
        clickhead = 0;
        clickleg = 0;
    }
};
eventCore.register(head, headHitTest, headOnClick);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImdhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFLQSxJQUFJLGNBQWMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0FBQ3pELElBQUksZUFBZSxHQUFHLElBQUksTUFBTSxDQUFDLHNCQUFzQixFQUFFLENBQUM7QUFDMUQsZUFBZSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUN6QyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUMvQixJQUFJLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQztBQUNWLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO0FBQ1QsSUFBSSxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUM7QUFDekIsY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUU5QixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNoQyxLQUFLLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQztBQUNYLEtBQUssQ0FBQyxDQUFDLEdBQUMsR0FBRyxDQUFDO0FBQ1osS0FBSyxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUM7QUFDMUIsY0FBYyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUUvQixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNoQyxLQUFLLENBQUMsQ0FBQyxHQUFDLEdBQUcsQ0FBQztBQUNaLEtBQUssQ0FBQyxDQUFDLEdBQUMsR0FBRyxDQUFDO0FBQ1osS0FBSyxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUM7QUFDM0IsY0FBYyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUUvQixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNoQyxLQUFLLENB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